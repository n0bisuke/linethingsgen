(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{174:function(e,t,n){"use strict";n.r(t);n(19);var r=n(3),c=n(65),o=n.n(c),l={name:"HomePage",data:function(){return{accesstoken:"",liffId:"",productName:"",baseUrl:"https://ev2-prod-node-red-fe7bce69-69d.herokuapp.com",productId:"",liffApps:[],createdProduct:{}}},methods:{_createConf:function(path,e){var data=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{baseURL:this.baseUrl,url:"/?url=".concat(path),method:e,headers:{Authorization:"Bearer ".concat(this.accesstoken)},data:data}},getLiffApps:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("click!"),"https://api.line.me/liff/v1/apps",t=this._createConf("https://api.line.me/liff/v1/apps","GET"),e.prev=3,e.next=6,o.a.request(t);case 6:n=e.sent,console.log(n.data),this.liffApps=n.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),createProducs:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var data,t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("click!"),"https://api.line.me/things/v1/trial/products",data={name:this.productName,liffId:this.liffId},t=this._createConf("https://api.line.me/things/v1/trial/products","POST",data),e.prev=4,e.next=7,o.a.request(t);case 7:n=e.sent,console.log(n.data),this.createdProduct=n.data,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(){return e.apply(this,arguments)}}()},mounted:function(){if(localStorage.accesstoken)this.accesstoken=localStorage.accesstoken;else{this.$snackbar.open({duration:5e3,message:'最初に<a href="setting">Setting</a>でアクセストークンを設定して下さい。'})}this.getLiffApps()},watch:{accesstoken:function(e){localStorage.accesstoken=e}}},d=n(20),component=Object(d.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section"},[n("h1",{staticClass:"title is-3 has-text-grey"},[e._v('\n      "1.トライアルプロダクトを作成します。\n      '),n("b-icon",{attrs:{icon:"pencil",size:"is-large"}}),e._v('"\n    ')],1),e._v(" "),n("section",{staticClass:"hero is-light"},[n("div",{staticClass:"hero-body"},[n("b-field",{attrs:{label:"LIFFアプリを選択 - LIFFアプリの作成はMessaging APIの管理画面(※)で行ってください。"}},[n("b-tooltip",{attrs:{label:""===e.liffId?"LIFFアプリを選択してください。":e.liffId+"を選択中",position:"is-right",always:""}},[n("b-select",{attrs:{placeholder:"Select a character",rounded:""},model:{value:e.liffId,callback:function(t){e.liffId=t},expression:"liffId"}},e._l(e.liffApps.apps,function(t){return n("option",{key:t.liffId,domProps:{value:t.liffId}},[e._v("\n              "+e._s(t.description)+"("+e._s(t.liffId)+")\n              ")])}),0)],1)],1),e._v(" "),n("b-field",{attrs:{label:"LIFF ID"}},[n("b-input",{attrs:{placeholder:e.liffId,disabled:""}})],1),e._v(" "),n("b-field",{attrs:{label:"トライアルプロダクトの名前"}},[n("b-input",{model:{value:e.productName,callback:function(t){e.productName=t},expression:"productName"}})],1),e._v(" "),n("b-button",{attrs:{type:"is-success"},on:{click:e.createProducs}},[e._v("作成")])],1)]),e._v(" "),n("a",{attrs:{href:"https://pierre3.github.io/add-liff-web/",target:"_blank"}},[e._v("※LIFFアプリは小林さん(@pierre3)作のツールからも作成できます。")]),e._v(" "),e.createdProduct.id?n("section",{staticClass:"hero is-success"},[n("div",{staticClass:"hero-body"},[e._v("\n      作成成功\n      "),n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[e._v("\n          トライアルプロダクト名: "+e._s(e.createdProduct.name)+"\n        ")]),e._v(" "),n("h2",{staticClass:"subtitle"},[e._v("\n          プロダクトID: "+e._s(e.createdProduct.id)+"\n        ")])])])]):e._e()])},[],!1,null,null,null);t.default=component.exports}}]);