(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{174:function(t,e,n){"use strict";n.r(e);n(19);var r=n(3),c=n(65),o=n.n(c),l={name:"HomePage",data:function(){return{accesstoken:"",liffId:"",productName:"",baseUrl:"https://linethingsgen-by-enebular.herokuapp.com/",productId:"",liffApps:[],createdProduct:{}}},methods:{_createConf:function(path,t){var data=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{baseURL:this.baseUrl,url:"/?url=".concat(path),method:t,headers:{Authorization:"Bearer ".concat(this.accesstoken)},data:data}},getLiffApps:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("click!"),"https://api.line.me/liff/v1/apps",e=this._createConf("https://api.line.me/liff/v1/apps","GET"),t.prev=3,t.next=6,o.a.request(e);case 6:n=t.sent,console.log(n.data),this.liffApps=n.data,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])}));return function(){return t.apply(this,arguments)}}(),createProducs:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var data,e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("click!"),"https://api.line.me/things/v1/trial/products",data={name:this.productName,liffId:this.liffId},e=this._createConf("https://api.line.me/things/v1/trial/products","POST",data),t.prev=4,t.next=7,o.a.request(e);case 7:n=t.sent,console.log(n.data),this.createdProduct=n.data,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}()},mounted:function(){if(localStorage.accesstoken)this.accesstoken=localStorage.accesstoken;else{this.$snackbar.open({duration:5e3,message:'最初に<a href="setting">Setting</a>でアクセストークンを設定して下さい。'})}this.getLiffApps()},watch:{accesstoken:function(t){localStorage.accesstoken=t}}},d=n(20),component=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("h1",{staticClass:"title is-3 has-text-grey"},[t._v('\n      "1.トライアルプロダクトを作成します。\n      '),n("b-icon",{attrs:{icon:"pencil",size:"is-large"}}),t._v('"\n    ')],1),t._v(" "),n("section",{staticClass:"hero is-light"},[n("div",{staticClass:"hero-body"},[n("b-field",{attrs:{label:"LIFFアプリを選択 - LIFFアプリの作成はMessaging APIの管理画面(※)で行ってください。"}},[n("b-tooltip",{attrs:{label:""===t.liffId?"LIFFアプリを選択してください。":t.liffId+"を選択中",position:"is-right",always:""}},[n("b-select",{attrs:{placeholder:"Select a character",rounded:""},model:{value:t.liffId,callback:function(e){t.liffId=e},expression:"liffId"}},t._l(t.liffApps.apps,function(e){return n("option",{key:e.liffId,domProps:{value:e.liffId}},[t._v("\n              "+t._s(e.description)+"("+t._s(e.liffId)+")\n              ")])}),0)],1)],1),t._v(" "),n("b-field",{attrs:{label:"LIFF ID"}},[n("b-input",{attrs:{placeholder:t.liffId,disabled:""}})],1),t._v(" "),n("b-field",{attrs:{label:"トライアルプロダクトの名前"}},[n("b-input",{model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}})],1),t._v(" "),n("b-button",{attrs:{type:"is-success"},on:{click:t.createProducs}},[t._v("作成")])],1)]),t._v(" "),n("a",{attrs:{href:"https://pierre3.github.io/add-liff-web/",target:"_blank"}},[t._v("※LIFFアプリは小林さん(@pierre3)作のツールからも作成できます。")]),t._v(" "),t.createdProduct.id?n("section",{staticClass:"hero is-success"},[n("div",{staticClass:"hero-body"},[t._v("\n      作成成功\n      "),n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v("\n          トライアルプロダクト名: "+t._s(t.createdProduct.name)+"\n        ")]),t._v(" "),n("h2",{staticClass:"subtitle"},[t._v("\n          プロダクトID: "+t._s(t.createdProduct.id)+"\n        ")])])])]):t._e()])},[],!1,null,null,null);e.default=component.exports}}]);